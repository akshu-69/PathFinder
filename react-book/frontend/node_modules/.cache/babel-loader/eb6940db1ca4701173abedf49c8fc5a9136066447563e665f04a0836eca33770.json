{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\PathFinder-main\\\\PathFinder-main\\\\react-book\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useEffect, useMemo, useReducer, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport DetailItem from './components/DetailItem';\nimport Cart from './components/Cart';\nimport Details from './components/Details';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport NotFound from './components/NotFound';\nimport { cartReducer, CartTypes, initialCartState } from './reducers/cartReducer';\nimport CurrentUserContext from './contexts/CurrentUserContext';\nimport Login from './components/Login';\nimport Orders from './components/Orders';\nimport Footer from './components/Footer';\nimport CareerQuiz from './components/Quiz';\nimport Signup from './components/Signup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cartSynced, setCartSynced] = useState(false);\n  const [cart, dispatch] = useReducer(cartReducer, initialCartState);\n  const addToCart = itemId => {\n    const newCart = cartReducer(cart, {\n      type: CartTypes.ADD,\n      itemId\n    });\n    dispatch({\n      type: CartTypes.ADD,\n      itemId\n    });\n    if (currentUser !== null && currentUser !== void 0 && currentUser.username) {\n      console.log('ðŸš€ Immediately saving new cart to DB:', newCart);\n      axios.post('/api/cart', {\n        cartItems: newCart\n      }).catch(console.error);\n    }\n  };\n  useEffect(() => {\n    axios.get('/api/items').then(result => setItems(result.data)).catch(console.error);\n  }, []);\n  useEffect(() => {\n    axios.get('/api/auth/current-user').then(async result => {\n      var _result$data;\n      setCurrentUser(result.data);\n      if ((_result$data = result.data) !== null && _result$data !== void 0 && _result$data.username) {\n        const cartRes = await axios.get('/api/cart');\n        dispatch({\n          type: CartTypes.SYNC_FROM_SERVER,\n          payload: cartRes.data\n        });\n        setCartSynced(true);\n      }\n    }).catch(console.error);\n  }, []);\n  useEffect(() => {\n    if (currentUser !== null && currentUser !== void 0 && currentUser.username && cartSynced) {\n      console.log('CART STATE (about to save):', cart);\n      axios.post('/api/cart', {\n        cartItems: cart\n      }).catch(console.error);\n    }\n  }, [cart, currentUser === null || currentUser === void 0 ? void 0 : currentUser.username, cartSynced]);\n  const currentUserContextValue = useMemo(() => ({\n    currentUser,\n    setCurrentUser\n  }), [currentUser]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n      value: currentUserContextValue,\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        cart: cart,\n        dispatch: dispatch\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cart\",\n          element: /*#__PURE__*/_jsxDEV(Cart, {\n            cart: cart,\n            dispatch: dispatch,\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/details\",\n          element: /*#__PURE__*/_jsxDEV(Details, {\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 47\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \":id\",\n            element: /*#__PURE__*/_jsxDEV(DetailItem, {\n              items: items,\n              addToCart: addToCart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            index: true,\n            element: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"No Item Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          element: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders\",\n          element: /*#__PURE__*/_jsxDEV(Orders, {\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/Quiz\",\n          element: /*#__PURE__*/_jsxDEV(CareerQuiz, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"GcMhZFRE7KcY9ZqxaK6jZTd1zoI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","useEffect","useMemo","useReducer","useState","BrowserRouter","Router","Routes","Route","DetailItem","Cart","Details","Header","Home","NotFound","cartReducer","CartTypes","initialCartState","CurrentUserContext","Login","Orders","Footer","CareerQuiz","Signup","App","items","setItems","currentUser","setCurrentUser","cartSynced","setCartSynced","cart","dispatch","addToCart","itemId","newCart","type","ADD","username","console","log","post","cartItems","catch","error","get","then","result","data","cartRes","SYNC_FROM_SERVER","payload","currentUserContextValue","length"],"sources":["C:/Users/User/Downloads/PathFinder-main/PathFinder-main/react-book/frontend/src/App.js"],"sourcesContent":["import axios from 'axios';\nimport {\n  useEffect, useMemo, useReducer, useState,\n} from 'react';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n} from 'react-router-dom';\nimport DetailItem from './components/DetailItem';\nimport Cart from './components/Cart';\nimport Details from './components/Details';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport NotFound from './components/NotFound';\nimport { cartReducer, CartTypes, initialCartState } from './reducers/cartReducer';\nimport CurrentUserContext from './contexts/CurrentUserContext';\nimport Login from './components/Login';\nimport Orders from './components/Orders';\nimport Footer from './components/Footer';\nimport CareerQuiz from './components/Quiz';\nimport Signup from './components/Signup';\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cartSynced, setCartSynced] = useState(false);\n  const [cart, dispatch] = useReducer(cartReducer, initialCartState);\n  const addToCart = (itemId) => {\n    const newCart = cartReducer(cart, { type: CartTypes.ADD, itemId });\n    dispatch({ type: CartTypes.ADD, itemId });\n    if (currentUser?.username) {\n      console.log('ðŸš€ Immediately saving new cart to DB:', newCart);\n      axios.post('/api/cart', { cartItems: newCart }).catch(console.error);\n    }\n  };\n\n  useEffect(() => {\n    axios.get('/api/items')\n      .then((result) => setItems(result.data))\n      .catch(console.error);\n  }, []);\n\n  useEffect(() => {\n    axios.get('/api/auth/current-user')\n      .then(async (result) => {\n        setCurrentUser(result.data);\n        if (result.data?.username) {\n          const cartRes = await axios.get('/api/cart');\n          dispatch({ type: CartTypes.SYNC_FROM_SERVER, payload: cartRes.data });\n          setCartSynced(true);\n        }\n      })\n      .catch(console.error);\n  }, []);\n\n  useEffect(() => {\n    if (currentUser?.username && cartSynced) {\n      console.log('CART STATE (about to save):', cart);\n      axios.post('/api/cart', { cartItems: cart }).catch(console.error);\n    }\n  }, [cart, currentUser?.username, cartSynced]);\n\n  const currentUserContextValue = useMemo(\n    () => ({ currentUser, setCurrentUser }),\n    [currentUser],\n  );\n\n  return (\n    <Router>\n      <CurrentUserContext.Provider\n        value={currentUserContextValue}\n      >\n        <Header cart={cart} dispatch={dispatch} />\n        {items.length === 0\n          ? <div>Loading...</div>\n          : (\n            <Routes>\n              <Route\n                path=\"/cart\"\n                element={<Cart cart={cart} dispatch={dispatch} items={items} />}\n              />\n              <Route path=\"/details\" element={<Details items={items} />}>\n                <Route\n                  path=\":id\"\n                  element={<DetailItem items={items} addToCart={addToCart} />}\n                />\n                <Route index element={<div>No Item Selected</div>} />\n              </Route>\n              <Route path=\"/\" element={<Home items={items} />} />\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/signup\" element={<Signup />} />\n              <Route path=\"/orders\" element={<Orders items={items} />} />\n              <Route path=\"*\" element={<NotFound />} />\n              <Route path=\"/Quiz\" element={<CareerQuiz />} />\n            </Routes>\n          )}\n      </CurrentUserContext.Provider>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}