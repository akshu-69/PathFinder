{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\PathFinder-main\\\\PathFinder-main\\\\react-book\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport { useEffect, useMemo, useReducer, useState } from 'react';\nimport { BrowserRouter as Router, Routes, Route } from 'react-router-dom';\nimport DetailItem from './components/DetailItem';\nimport Cart from './components/Cart';\nimport Details from './components/Details';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport NotFound from './components/NotFound';\nimport { cartReducer, CartTypes, initialCartState } from './reducers/cartReducer';\nimport CurrentUserContext from './contexts/CurrentUserContext';\nimport Login from './components/Login';\nimport Orders from './components/Orders';\nimport Footer from './components/Footer';\nimport CareerQuiz from './components/Quiz';\nimport Signup from './components/Signup';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst storageKey = 'cart';\nfunction App() {\n  _s();\n  const [items, setItems] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cart, dispatch] = useReducer(cartReducer, initialCartState, initialState => {\n    try {\n      const storedCart = JSON.parse(localStorage.getItem(storageKey));\n      return storedCart || initialState;\n    } catch (error) {\n      console.log('Error parsing cart', error);\n      return initialState;\n    }\n  });\n  const addToCart = itemId => dispatch({\n    type: CartTypes.ADD,\n    itemId\n  });\n  useEffect(() => {\n    localStorage.setItem(storageKey, JSON.stringify(cart));\n  }, [cart]);\n  useEffect(() => {\n    axios.get('/api/items').then(result => setItems(result.data)).catch(console.error);\n  }, []);\n  useEffect(() => {\n    axios.get('/api/auth/current-user').then(async result => {\n      var _result$data;\n      setCurrentUser(result.data);\n      if ((_result$data = result.data) !== null && _result$data !== void 0 && _result$data.username) {\n        const cartRes = await axios.get('/api/cart');\n        dispatch({\n          type: CartTypes.SYNC_FROM_SERVER,\n          payload: cartRes.data\n        });\n      }\n    }).catch(console.error);\n  }, []);\n  useEffect(() => {\n    if (currentUser !== null && currentUser !== void 0 && currentUser.username) {\n      axios.post('/api/cart', {\n        cartItems: cart\n      }).catch(console.error);\n    }\n  }, [cart, currentUser === null || currentUser === void 0 ? void 0 : currentUser.username]);\n  const currentUserContextValue = useMemo(() => ({\n    currentUser,\n    setCurrentUser\n  }), [currentUser]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: [/*#__PURE__*/_jsxDEV(CurrentUserContext.Provider, {\n      value: currentUserContextValue,\n      children: [/*#__PURE__*/_jsxDEV(Header, {\n        cart: cart\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/cart\",\n          element: /*#__PURE__*/_jsxDEV(Cart, {\n            cart: cart,\n            dispatch: dispatch,\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 26\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/details\",\n          element: /*#__PURE__*/_jsxDEV(Details, {\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 47\n          }, this),\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \":id\",\n            element: /*#__PURE__*/_jsxDEV(DetailItem, {\n              items: items,\n              addToCart: addToCart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            index: true,\n            element: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"No Item Selected\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 39\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Home, {\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 45\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/signup\",\n          element: /*#__PURE__*/_jsxDEV(Signup, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/orders\",\n          element: /*#__PURE__*/_jsxDEV(Orders, {\n            items: items\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(NotFound, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/Quiz\",\n          element: /*#__PURE__*/_jsxDEV(CareerQuiz, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 44\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"aEmMfLbLxXwCkM77hRWRJhP6g3g=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","useEffect","useMemo","useReducer","useState","BrowserRouter","Router","Routes","Route","DetailItem","Cart","Details","Header","Home","NotFound","cartReducer","CartTypes","initialCartState","CurrentUserContext","Login","Orders","Footer","CareerQuiz","Signup","storageKey","App","items","setItems","currentUser","setCurrentUser","cart","dispatch","initialState","storedCart","JSON","parse","localStorage","getItem","error","console","log","addToCart","itemId","type","ADD","setItem","stringify","get","then","result","data","catch","username","cartRes","SYNC_FROM_SERVER","payload","post","cartItems","currentUserContextValue","length"],"sources":["C:/Users/User/Downloads/PathFinder-main/PathFinder-main/react-book/frontend/src/App.js"],"sourcesContent":["import axios from 'axios';\nimport {\n  useEffect, useMemo, useReducer, useState,\n} from 'react';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n} from 'react-router-dom';\nimport DetailItem from './components/DetailItem';\nimport Cart from './components/Cart';\nimport Details from './components/Details';\nimport Header from './components/Header';\nimport Home from './components/Home';\nimport NotFound from './components/NotFound';\nimport { cartReducer, CartTypes, initialCartState } from './reducers/cartReducer';\nimport CurrentUserContext from './contexts/CurrentUserContext';\nimport Login from './components/Login';\nimport Orders from './components/Orders';\nimport Footer from './components/Footer';\nimport CareerQuiz from './components/Quiz';\nimport Signup from './components/Signup';\n\nconst storageKey = 'cart';\n\nfunction App() {\n  const [items, setItems] = useState([]);\n  const [currentUser, setCurrentUser] = useState({});\n  const [cart, dispatch] = useReducer(\n    cartReducer,\n    initialCartState,\n    (initialState) => {\n      try {\n        const storedCart = JSON.parse(localStorage.getItem(storageKey));\n        return storedCart || initialState;\n      } catch (error) {\n        console.log('Error parsing cart', error);\n        return initialState;\n      }\n    },\n  );\n  const addToCart = (itemId) => dispatch({ type: CartTypes.ADD, itemId });\n\n  useEffect(() => {\n    localStorage.setItem(storageKey, JSON.stringify(cart));\n  }, [cart]);\n\n  useEffect(() => {\n    axios.get('/api/items')\n      .then((result) => setItems(result.data))\n      .catch(console.error);\n  }, []);\n\n  useEffect(() => {\n    axios.get('/api/auth/current-user')\n      .then(async (result) => {\n        setCurrentUser(result.data);\n        if (result.data?.username) {\n          const cartRes = await axios.get('/api/cart');\n          dispatch({ type: CartTypes.SYNC_FROM_SERVER, payload: cartRes.data });\n        }\n      })\n      .catch(console.error);\n  }, []);\n  \n  useEffect(() => {\n    if (currentUser?.username) {\n      axios.post('/api/cart', { cartItems: cart }).catch(console.error);\n    }\n  }, [cart, currentUser?.username]);\n\n  const currentUserContextValue = useMemo(\n    () => ({ currentUser, setCurrentUser }),\n    [currentUser],\n  );\n\n  return (\n    <Router>\n      <CurrentUserContext.Provider\n        value={currentUserContextValue}\n      >\n        <Header cart={cart} />\n        {items.length === 0\n          ? <div>Loading...</div>\n          : (\n            <Routes>\n              <Route\n                path=\"/cart\"\n                element={<Cart cart={cart} dispatch={dispatch} items={items} />}\n              />\n              <Route path=\"/details\" element={<Details items={items} />}>\n                <Route\n                  path=\":id\"\n                  element={<DetailItem items={items} addToCart={addToCart} />}\n                />\n                <Route index element={<div>No Item Selected</div>} />\n              </Route>\n              <Route path=\"/\" element={<Home items={items} />} />\n              <Route path=\"/login\" element={<Login />} />\n              <Route path=\"/signup\" element={<Signup />} />\n              <Route path=\"/orders\" element={<Orders items={items} />} />\n              <Route path=\"*\" element={<NotFound />} />\n              <Route path=\"/Quiz\" element={<CareerQuiz />} />\n            </Routes>\n          )}\n      </CurrentUserContext.Provider>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SACEC,SAAS,EAAEC,OAAO,EAAEC,UAAU,EAAEC,QAAQ,QACnC,OAAO;AACd,SACEC,aAAa,IAAIC,MAAM,EACvBC,MAAM,EACNC,KAAK,QACA,kBAAkB;AACzB,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,OAAO,MAAM,sBAAsB;AAC1C,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,SAASC,WAAW,EAAEC,SAAS,EAAEC,gBAAgB,QAAQ,wBAAwB;AACjF,OAAOC,kBAAkB,MAAM,+BAA+B;AAC9D,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,MAAM,MAAM,qBAAqB;AACxC,OAAOC,UAAU,MAAM,mBAAmB;AAC1C,OAAOC,MAAM,MAAM,qBAAqB;AAAC;AAEzC,MAAMC,UAAU,GAAG,MAAM;AAEzB,SAASC,GAAG,GAAG;EAAA;EACb,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGvB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC,CAAC;EAClD,MAAM,CAAC0B,IAAI,EAAEC,QAAQ,CAAC,GAAG5B,UAAU,CACjCY,WAAW,EACXE,gBAAgB,EACfe,YAAY,IAAK;IAChB,IAAI;MACF,MAAMC,UAAU,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACb,UAAU,CAAC,CAAC;MAC/D,OAAOS,UAAU,IAAID,YAAY;IACnC,CAAC,CAAC,OAAOM,KAAK,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,KAAK,CAAC;MACxC,OAAON,YAAY;IACrB;EACF,CAAC,CACF;EACD,MAAMS,SAAS,GAAIC,MAAM,IAAKX,QAAQ,CAAC;IAAEY,IAAI,EAAE3B,SAAS,CAAC4B,GAAG;IAAEF;EAAO,CAAC,CAAC;EAEvEzC,SAAS,CAAC,MAAM;IACdmC,YAAY,CAACS,OAAO,CAACrB,UAAU,EAAEU,IAAI,CAACY,SAAS,CAAChB,IAAI,CAAC,CAAC;EACxD,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV7B,SAAS,CAAC,MAAM;IACdD,KAAK,CAAC+C,GAAG,CAAC,YAAY,CAAC,CACpBC,IAAI,CAAEC,MAAM,IAAKtB,QAAQ,CAACsB,MAAM,CAACC,IAAI,CAAC,CAAC,CACvCC,KAAK,CAACZ,OAAO,CAACD,KAAK,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAENrC,SAAS,CAAC,MAAM;IACdD,KAAK,CAAC+C,GAAG,CAAC,wBAAwB,CAAC,CAChCC,IAAI,CAAC,MAAOC,MAAM,IAAK;MAAA;MACtBpB,cAAc,CAACoB,MAAM,CAACC,IAAI,CAAC;MAC3B,oBAAID,MAAM,CAACC,IAAI,yCAAX,aAAaE,QAAQ,EAAE;QACzB,MAAMC,OAAO,GAAG,MAAMrD,KAAK,CAAC+C,GAAG,CAAC,WAAW,CAAC;QAC5ChB,QAAQ,CAAC;UAAEY,IAAI,EAAE3B,SAAS,CAACsC,gBAAgB;UAAEC,OAAO,EAAEF,OAAO,CAACH;QAAK,CAAC,CAAC;MACvE;IACF,CAAC,CAAC,CACDC,KAAK,CAACZ,OAAO,CAACD,KAAK,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAENrC,SAAS,CAAC,MAAM;IACd,IAAI2B,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAEwB,QAAQ,EAAE;MACzBpD,KAAK,CAACwD,IAAI,CAAC,WAAW,EAAE;QAAEC,SAAS,EAAE3B;MAAK,CAAC,CAAC,CAACqB,KAAK,CAACZ,OAAO,CAACD,KAAK,CAAC;IACnE;EACF,CAAC,EAAE,CAACR,IAAI,EAAEF,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEwB,QAAQ,CAAC,CAAC;EAEjC,MAAMM,uBAAuB,GAAGxD,OAAO,CACrC,OAAO;IAAE0B,WAAW;IAAEC;EAAe,CAAC,CAAC,EACvC,CAACD,WAAW,CAAC,CACd;EAED,oBACE,QAAC,MAAM;IAAA,wBACL,QAAC,kBAAkB,CAAC,QAAQ;MAC1B,KAAK,EAAE8B,uBAAwB;MAAA,wBAE/B,QAAC,MAAM;QAAC,IAAI,EAAE5B;MAAK;QAAA;QAAA;QAAA;MAAA,QAAG,EACrBJ,KAAK,CAACiC,MAAM,KAAK,CAAC,gBACf;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAAqB,gBAErB,QAAC,MAAM;QAAA,wBACL,QAAC,KAAK;UACJ,IAAI,EAAC,OAAO;UACZ,OAAO,eAAE,QAAC,IAAI;YAAC,IAAI,EAAE7B,IAAK;YAAC,QAAQ,EAAEC,QAAS;YAAC,KAAK,EAAEL;UAAM;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA,QAChE,eACF,QAAC,KAAK;UAAC,IAAI,EAAC,UAAU;UAAC,OAAO,eAAE,QAAC,OAAO;YAAC,KAAK,EAAEA;UAAM;YAAA;YAAA;YAAA;UAAA,QAAI;UAAA,wBACxD,QAAC,KAAK;YACJ,IAAI,EAAC,KAAK;YACV,OAAO,eAAE,QAAC,UAAU;cAAC,KAAK,EAAEA,KAAM;cAAC,SAAS,EAAEe;YAAU;cAAA;cAAA;cAAA;YAAA;UAAI;YAAA;YAAA;YAAA;UAAA,QAC5D,eACF,QAAC,KAAK;YAAC,KAAK;YAAC,OAAO,eAAE;cAAA;YAAA;cAAA;cAAA;cAAA;YAAA;UAA4B;YAAA;YAAA;YAAA;UAAA,QAAG;QAAA;UAAA;UAAA;UAAA;QAAA,QAC/C,eACR,QAAC,KAAK;UAAC,IAAI,EAAC,GAAG;UAAC,OAAO,eAAE,QAAC,IAAI;YAAC,KAAK,EAAEf;UAAM;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA,QAAG,eACnD,QAAC,KAAK;UAAC,IAAI,EAAC,QAAQ;UAAC,OAAO,eAAE,QAAC,KAAK;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA,QAAG,eAC3C,QAAC,KAAK;UAAC,IAAI,EAAC,SAAS;UAAC,OAAO,eAAE,QAAC,MAAM;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA,QAAG,eAC7C,QAAC,KAAK;UAAC,IAAI,EAAC,SAAS;UAAC,OAAO,eAAE,QAAC,MAAM;YAAC,KAAK,EAAEA;UAAM;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA,QAAG,eAC3D,QAAC,KAAK;UAAC,IAAI,EAAC,GAAG;UAAC,OAAO,eAAE,QAAC,QAAQ;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA,QAAG,eACzC,QAAC,KAAK;UAAC,IAAI,EAAC,OAAO;UAAC,OAAO,eAAE,QAAC,UAAU;YAAA;YAAA;YAAA;UAAA;QAAI;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAElD;IAAA;MAAA;MAAA;MAAA;IAAA,QACyB,eAC9B,QAAC,MAAM;MAAA;MAAA;MAAA;IAAA,QAAG;EAAA;IAAA;IAAA;IAAA;EAAA,QACH;AAEb;AAAC,GApFQD,GAAG;AAAA,KAAHA,GAAG;AAsFZ,eAAeA,GAAG;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}