{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Downloads\\\\PathFinder-main\\\\PathFinder-main\\\\react-book\\\\frontend\\\\src\\\\components\\\\DetailItem.js\",\n  _s = $RefreshSig$();\nimport { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { itemImages } from '../items';\nimport ItemType from '../types/item';\nimport './DetailItem.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  currentUser\n} = useContext(CurrentUserContext);\nconst navigate = useNavigate();\nfunction DetailItem(_ref) {\n  _s();\n  var _detailItem$salePrice;\n  let {\n    addToCart,\n    items\n  } = _ref;\n  const {\n    id\n  } = useParams();\n  const detailItem = items.find(item => item.itemId === id);\n  const handleAddToCart = () => {\n    if (!(currentUser !== null && currentUser !== void 0 && currentUser.username)) {\n      navigate('/login');\n      return;\n    }\n    addToCart(detailItem.itemId);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"detail-item-component\",\n    children: detailItem ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"details-image\",\n        src: itemImages[detailItem.imageId],\n        alt: detailItem.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: detailItem.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 11\n      }, this), detailItem.description && /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: detailItem.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 38\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"$\", ((_detailItem$salePrice = detailItem.salePrice) !== null && _detailItem$salePrice !== void 0 ? _detailItem$salePrice : detailItem.price).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: handleAddToCart,\n        children: \"Add to Cart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Unknown Item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n}\n_s(DetailItem, \"yQgCIz/jJfqV1l9s2yoba81MT5A=\", false, function () {\n  return [useParams];\n});\n_c = DetailItem;\nDetailItem.propTypes = {\n  addToCart: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(ItemType).isRequired\n};\nexport default DetailItem;\nvar _c;\n$RefreshReg$(_c, \"DetailItem\");","map":{"version":3,"names":["useContext","useNavigate","CurrentUserContext","useParams","PropTypes","itemImages","ItemType","currentUser","navigate","DetailItem","addToCart","items","id","detailItem","find","item","itemId","handleAddToCart","username","imageId","title","description","salePrice","price","toFixed","propTypes","func","isRequired","arrayOf"],"sources":["C:/Users/User/Downloads/PathFinder-main/PathFinder-main/react-book/frontend/src/components/DetailItem.js"],"sourcesContent":["import { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport CurrentUserContext from '../contexts/CurrentUserContext';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { itemImages } from '../items';\nimport ItemType from '../types/item';\nimport './DetailItem.css';\n\nconst { currentUser } = useContext(CurrentUserContext);\nconst navigate = useNavigate();\n\nfunction DetailItem({ addToCart, items }) {\n  const { id } = useParams();\n  const detailItem = items.find((item) => item.itemId === id);\n\n  const handleAddToCart = () => {\n    if (!currentUser?.username) {\n      navigate('/login');\n      return;\n    }\n  \n    addToCart(detailItem.itemId);\n  };\n  \n  return (\n    <div className=\"detail-item-component\">\n      {detailItem ? (\n        <>\n          <img\n            className=\"details-image\"\n            src={itemImages[detailItem.imageId]}\n            alt={detailItem.title}\n          />\n          <h2>{detailItem.title}</h2>\n          {detailItem.description && <h6>{detailItem.description}</h6>}\n          <div>\n            $\n            {(detailItem.salePrice ?? detailItem.price).toFixed(2)}\n          </div>\n          <button\n            type=\"button\"\n            onClick={handleAddToCart}\n          >\n            Add to Cart\n          </button>\n        </>\n      ) : <h2>Unknown Item</h2>}\n    </div>\n  );\n}\n\nDetailItem.propTypes = {\n  addToCart: PropTypes.func.isRequired,\n  items: PropTypes.arrayOf(ItemType).isRequired,\n};\n\nexport default DetailItem;\n"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,kBAAkB,MAAM,gCAAgC;AAC/D,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,UAAU,QAAQ,UAAU;AACrC,OAAOC,QAAQ,MAAM,eAAe;AACpC,OAAO,kBAAkB;AAAC;AAAA;AAE1B,MAAM;EAAEC;AAAY,CAAC,GAAGP,UAAU,CAACE,kBAAkB,CAAC;AACtD,MAAMM,QAAQ,GAAGP,WAAW,EAAE;AAE9B,SAASQ,UAAU,OAAuB;EAAA;EAAA;EAAA,IAAtB;IAAEC,SAAS;IAAEC;EAAM,CAAC;EACtC,MAAM;IAAEC;EAAG,CAAC,GAAGT,SAAS,EAAE;EAC1B,MAAMU,UAAU,GAAGF,KAAK,CAACG,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACC,MAAM,KAAKJ,EAAE,CAAC;EAE3D,MAAMK,eAAe,GAAG,MAAM;IAC5B,IAAI,EAACV,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAEW,QAAQ,GAAE;MAC1BV,QAAQ,CAAC,QAAQ,CAAC;MAClB;IACF;IAEAE,SAAS,CAACG,UAAU,CAACG,MAAM,CAAC;EAC9B,CAAC;EAED,oBACE;IAAK,SAAS,EAAC,uBAAuB;IAAA,UACnCH,UAAU,gBACT;MAAA,wBACE;QACE,SAAS,EAAC,eAAe;QACzB,GAAG,EAAER,UAAU,CAACQ,UAAU,CAACM,OAAO,CAAE;QACpC,GAAG,EAAEN,UAAU,CAACO;MAAM;QAAA;QAAA;QAAA;MAAA,QACtB,eACF;QAAA,UAAKP,UAAU,CAACO;MAAK;QAAA;QAAA;QAAA;MAAA,QAAM,EAC1BP,UAAU,CAACQ,WAAW,iBAAI;QAAA,UAAKR,UAAU,CAACQ;MAAW;QAAA;QAAA;QAAA;MAAA,QAAM,eAC5D;QAAA,gBAEG,0BAACR,UAAU,CAACS,SAAS,yEAAIT,UAAU,CAACU,KAAK,EAAEC,OAAO,CAAC,CAAC,CAAC;MAAA;QAAA;QAAA;QAAA;MAAA,QAClD,eACN;QACE,IAAI,EAAC,QAAQ;QACb,OAAO,EAAEP,eAAgB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAGlB;IAAA,gBACR,gBACD;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAqB;IAAA;IAAA;IAAA;EAAA,QACrB;AAEV;AAAC,GAtCQR,UAAU;EAAA,QACFN,SAAS;AAAA;AAAA,KADjBM,UAAU;AAwCnBA,UAAU,CAACgB,SAAS,GAAG;EACrBf,SAAS,EAAEN,SAAS,CAACsB,IAAI,CAACC,UAAU;EACpChB,KAAK,EAAEP,SAAS,CAACwB,OAAO,CAACtB,QAAQ,CAAC,CAACqB;AACrC,CAAC;AAED,eAAelB,UAAU;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}